<div class="container">
    <!-- Fundraiser cards -->
    <div class="row justify-content-center">
        <div class="col-md-6 mb-4" *ngFor="let fundraiser of fundraisers">
            <p-card header="{{fundraiser.name}}" subheader="Description :" [style]="{ width: '360px' }">
                <ng-template pTemplate="header">
                    <img alt="Card" [src]="fundraiser.displayPicture" alt="Fundraiser Photo" />
                </ng-template>
                <p>{{ fundraiser.description }}</p>
                <ng-template pTemplate="footer">
                    <p-button type="button" class="btn btn-primary" (click)="selectFundraiser(fundraiser)">Donate</p-button>
                </ng-template>
            </p-card>
        </div>
    </div>



        <div *ngIf="selectedFundraiser" class="text-center">
            <h3>Selected Fundraiser: {{ selectedFundraiser.name }}</h3> <!-- Display selected fundraiser name -->
            <form id="donation-form" [formGroup]="donationForm" (submit)="submitDonation()" class="donation-form">
                <div class="form-group">
                    <label for="amount">Amount:</label>
                    <div class="input-group">
                        <input type="text" id="amount" formControlName="amount" class="form-control" required>
                        <span class="input-group-text">$</span>
                    </div>
                    <div *ngIf="donationForm.get('amount')?.invalid && (donationForm.get('amount')?.dirty || donationForm.get('amount')?.touched)">
                        <div *ngIf="donationForm.get('amount')?.errors?.required" class="text-danger">Amount is required.</div>
                        <div *ngIf="donationForm.get('amount')?.errors?.min" class="text-danger">Minimum amount is $5.</div>
                        <div *ngIf="donationForm.get('amount')?.errors?.pattern" class="text-danger">Please enter a valid number.</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Payment Method:</label>
                    <div class="form-check">
                        <input type="radio" id="card" formControlName="paymentMethod" value="card" checked>
                        <label for="card">
                            <i class="pi pi-credit-card icon"></i> Credit/Debit Card
                        </label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="paypal" formControlName="paymentMethod" value="paypal">
                        <label for="paypal">
                            <i class="pi pi-paypal icon"></i> PayPal
                        </label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="crypto" formControlName="paymentMethod" value="crypto">
                        <label for="crypto">
                            <i class="pi pi-bitcoin icon"></i> Crypto
                        </label>
                    </div>
                </div>
                <p-button type="submit" class="btn btn-primary">Donate</p-button>
            </form>
        </div>

